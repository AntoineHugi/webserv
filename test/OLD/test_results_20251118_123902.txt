âœ“ Server detected on port 8080

Building test client...
Cleaned object files
Removed executables
Compiling test_client.cpp -> test_client.o
Created test client: test_client
Compiling stress_test.cpp -> stress_test.o
Created stress test: stress_test

Running tests...


[34m==========================================================[0m
[34m  WEBSERV C++ TEST SUITE[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mTesting server at 127.0.0.1:8080
[33mâ„¹ INFO: [0mMake sure your server is running!


[34m==========================================================[0m
[34mTEST: Basic Connection and Response[0m
[34m==========================================================[0m
[32mâœ“ PASS: [0mConnected to server
[33mâ„¹ INFO: [0mSending: GET /
[32mâœ“ PASS: [0mReceived 200 OK response
[32mâœ“ PASS: [0mConnection closed cleanly

[34m==========================================================[0m
[34mTEST: Keep-Alive: Multiple Sequential Requests[0m
[34m==========================================================[0m
[32mâœ“ PASS: [0mConnected to server
[33mâ„¹ INFO: [0mSending: GET /
[32mâœ“ PASS: [0mFirst request: 200 OK
[32mâœ“ PASS: [0mServer responded with Connection: keep-alive
[33mâ„¹ INFO: [0mSending: GET /index
[32mâœ“ PASS: [0mSecond request on same connection: 200 OK
[33mâ„¹ INFO: [0mSending: POST /data
[32mâœ“ PASS: [0mThird request on same connection: 200 OK
[32mâœ“ PASS: [0mAll 3 requests completed on single connection

[34m==========================================================[0m
[34mTEST: Connection: close Behavior[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending: GET /
[32mâœ“ PASS: [0mReceived 200 OK
[32mâœ“ PASS: [0mServer responded with Connection: close
[32mâœ“ PASS: [0mServer closed connection after Connection: close

[34m==========================================================[0m
[34mTEST: Different HTTP Methods[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending: GET /test
[32mâœ“ PASS: [0mGET request successful
[33mâ„¹ INFO: [0mSending: POST /test
[32mâœ“ PASS: [0mPOST request successful
[33mâ„¹ INFO: [0mSending: DELETE /test
[32mâœ“ PASS: [0mDELETE request successful
[33mâ„¹ INFO: [0mSending: PUT /test
[32mâœ“ PASS: [0mPUT request successful

[34m==========================================================[0m
[34mTEST: POST Request with JSON Body[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending: POST /api/data
[32mâœ“ PASS: [0mPOST with JSON body successful

[34m==========================================================[0m
[34mTEST: Rapid Connect/Disconnect (10 connections)[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending: GET /rapid0
[33mâ„¹ INFO: [0mSending: GET /rapid1
[33mâ„¹ INFO: [0mSending: GET /rapid2
[33mâ„¹ INFO: [0mSending: GET /rapid3
[33mâ„¹ INFO: [0mSending: GET /rapid4
[33mâ„¹ INFO: [0mSending: GET /rapid5
[33mâ„¹ INFO: [0mSending: GET /rapid6
[33mâ„¹ INFO: [0mSending: GET /rapid7
[33mâ„¹ INFO: [0mSending: GET /rapid8
[33mâ„¹ INFO: [0mSending: GET /rapid9
[32mâœ“ PASS: [0m10/10 rapid connections successful

[34m==========================================================[0m
[34mTEST: Truly Concurrent Clients (5 clients via fork, 3 requests each)[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSpawning 5 concurrent client processes...
[33mâ„¹ INFO: [0mSending: GET /client0/req0
[33mâ„¹ INFO: [0mSending: GET /client1/req0
[33mâ„¹ INFO: [0mSending: GET /client2/req0
[33mâ„¹ INFO: [0mSending: GET /client4/req0
[33mâ„¹ INFO: [0mSending: GET /client3/req0
[33mâ„¹ INFO: [0mSending: GET /client0/req1
[33mâ„¹ INFO: [0mSending: GET /client1/req1
[33mâ„¹ INFO: [0mSending: GET /client3/req1
[33mâ„¹ INFO: [0mSending: GET /client4/req1
[33mâ„¹ INFO: [0mSending: GET /client2/req1
[33mâ„¹ INFO: [0mSending: GET /client0/req2
[33mâ„¹ INFO: [0mSending: GET /client1/req2
[33mâ„¹ INFO: [0mSending: GET /client2/req2
[33mâ„¹ INFO: [0mSending: GET /client4/req2
[33mâ„¹ INFO: [0mSending: GET /client3/req2
[32mâœ“ PASS: [0m5/5 concurrent clients completed all requests
[33mâ„¹ INFO: [0mAll concurrent processes completed

[34m==========================================================[0m
[34mTEST: Multiple Server Instances (ports 8080 and 8081)[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending: GET /
[32mâœ“ PASS: [0mServer on port 8080 responsive
[33mâ„¹ INFO: [0mSending: GET /
[32mâœ“ PASS: [0mServer on port 8081 responsive

[34m==========================================================[0m
[34mTEST: Large Header (within 16KB limit)[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending: GET /
[32mâœ“ PASS: [0mLarge header accepted (within limit)

[34m==========================================================[0m
[34mTEST: Chunked Transfer Encoding[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending chunked POST request
[32mâœ“ PASS: [0mChunked request processed successfully

[34m==========================================================[0m
[34mTEST: Pipelined Requests: Chunked + GET (leftover detection)[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending pipelined chunked POST + GET
[31mâœ— FAIL: [0mOnly first request processed - leftover GET was lost!

[34m==========================================================[0m
[34mTEST: Pipelined Requests: Content-Length + GET (leftover detection)[0m
[34m==========================================================[0m
[33mâ„¹ INFO: [0mSending pipelined POST (Content-Length) + GET
[31mâœ— FAIL: [0mOnly POST processed - leftover GET was lost!

[34m==========================================================[0m
[34m  TEST SUMMARY[0m
[34m==========================================================[0m
[32mPassed: 23[0m
[31mFailed: 2[0m
Total:  25

[31m==========================================================
  SOME TESTS FAILED
==========================================================[0m


===================================
Tests complete. Results saved to: test_results_20251118_123902.txt
===================================
